{"ast":null,"code":"import mongoose from 'mongoose';\n\nfunction initDB() {\n  if (mongoose.connections[0].readyState) {\n    console.log(\"alredy connected\");\n    return;\n  }\n\n  mongoose.connect(process.env.MONGO_URI, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n  });\n  mongoose.connection.on('connected', () => {\n    console.log(\"connected to mongo\");\n  });\n  mongoose.connection.on('error', err => {\n    console.log(\"error connecting\", err);\n  });\n}\n\nexport default initDB;","map":{"version":3,"sources":["/home/mohit/Fun/NextEcom/helpers/initDB.js"],"names":["mongoose","initDB","connections","readyState","console","log","connect","process","env","MONGO_URI","useNewUrlParser","useUnifiedTopology","connection","on","err"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;;AAEA,SAASC,MAAT,GAAiB;AACb,MAAGD,QAAQ,CAACE,WAAT,CAAqB,CAArB,EAAwBC,UAA3B,EAAsC;AAClCC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA;AACH;;AACDL,EAAAA,QAAQ,CAACM,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,SAA7B,EAAuC;AACnCC,IAAAA,eAAe,EAAC,IADmB;AAEnCC,IAAAA,kBAAkB,EAAC;AAFgB,GAAvC;AAIAX,EAAAA,QAAQ,CAACY,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAmC,MAAI;AACnCT,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH,GAFD;AAGAL,EAAAA,QAAQ,CAACY,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgCC,GAAD,IAAO;AAClCV,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BS,GAA/B;AACH,GAFD;AAGH;;AAGD,eAAeb,MAAf","sourcesContent":["import mongoose from 'mongoose'\n\nfunction initDB(){\n    if(mongoose.connections[0].readyState){\n        console.log(\"alredy connected\")\n        return\n    }\n    mongoose.connect(process.env.MONGO_URI,{\n        useNewUrlParser:true,\n        useUnifiedTopology:true\n    })\n    mongoose.connection.on('connected',()=>{\n        console.log(\"connected to mongo\")\n    })\n    mongoose.connection.on('error',(err)=>{\n        console.log(\"error connecting\",err)\n    })\n}\n\n\nexport default initDB"]},"metadata":{},"sourceType":"module"}